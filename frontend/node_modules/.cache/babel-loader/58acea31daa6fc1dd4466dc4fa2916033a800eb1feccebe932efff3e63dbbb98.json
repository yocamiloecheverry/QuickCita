{"ast":null,"code":"// import React, { useState, useEffect, useContext } from \"react\";\n// import { Form, Button, Container, Spinner, Alert } from \"react-bootstrap\";\n// import { AuthContext } from \"../context/AuthContext\";\n// import api from \"../services/api\";\n\n// const ESPECIALIDADES = [\n//   \"Medicina General\",\n//   \"Cardiología\",\n//   \"Dermatología\",\n//   \"Pediatría\",\n//   \"Neurología\",\n//   \"Oncología\",\n//   \"Ginecología\",\n//   \"Oftalmología\",\n//   \"Psiquiatría\"\n// ];\n\n// const SEGUROS = [\n//   \"Sura\",\n//   \"Nueva EPS\",\n//   \"EPS Sanitas\",\n//   \"Salud Total EPS\"\n// ];\n\n// const UBICACIONES = [\n//   \"Norte\",\n//   \"Sur\",\n//   \"Oriente\",\n//   \"Occidente\",\n//   \"Centro\"\n// ];\n\n// export default function ValidarPerfil() {\n//   const { user } = useContext(AuthContext);\n//   const [form, setForm] = useState({\n//     cedula_profesional: \"\",\n//     especialidad: \"\",\n//     ubicacion: \"\",\n//     seguro_medico: \"\",\n//   });\n//   const [loading, setLoading] = useState(true);\n//   const [saving, setSaving] = useState(false);\n//   const [disabled, setDisabled] = useState(false);\n//   const [error, setError] = useState(\"\");\n\n//   useEffect(() => {\n//     api.get(`/perfiles_medicos/${user.id_usuario}`)\n//       .then(res => {\n//         const data = res.data;\n//         setForm({\n//           cedula_profesional: data.cedula_profesional || \"\",\n//           especialidad:       data.especialidad       || \"\",\n//           ubicacion:          data.ubicacion          || \"\",\n//           seguro_medico:      data.seguro_medico      || \"\",\n//         });\n//         // Si ya existe un perfil completo, deshabilitar campos\n//         if (data.cedula_profesional && data.especialidad) {\n//           setDisabled(true);\n//         }\n//       })\n//       .catch(() => setError(\"No se pudo cargar el perfil\"))\n//       .finally(() => setLoading(false));\n//   }, [user.id_usuario]);\n\n//   const handleChange = e => {\n//     const { name, value } = e.target;\n//     setForm(f => ({ ...f, [name]: value }));\n//   };\n\n//   const handleSubmit = e => {\n//     e.preventDefault();\n//     setSaving(true);\n//     api.put(`/perfiles_medicos/${user.id_usuario}`, form)\n//       .then(res => {\n//         alert(\"Perfil actualizado con éxito\");\n//         setError(\"\");\n//         setDisabled(true);\n//       })\n//       .catch(err => {\n//         console.error(err);\n//         const msg = err.response?.data?.message || \"Error al guardar\";\n//         setError(msg);\n//       })\n//       .finally(() => setSaving(false));\n//   };\n\n//   if (loading) {\n//     return (\n//       <Container className=\"py-5 text-center\">\n//         <Spinner animation=\"border\" />\n//       </Container>\n//     );\n//   }\n\n//   return (\n//     <Container className=\"py-5\" style={{ maxWidth: 600 }}>\n//       <h3>Validar/Completar Perfil Médico</h3>\n//       {error && <Alert variant=\"danger\">{error}</Alert>}\n//       <Form onSubmit={handleSubmit}>\n//         <Form.Group className=\"mb-3\">\n//           <Form.Label>Cédula profesional</Form.Label>\n//           <Form.Control\n//             name=\"cedula_profesional\"\n//             value={form.cedula_profesional}\n//             onChange={handleChange}\n//             required\n//             disabled={saving || disabled}\n//           />\n//         </Form.Group>\n\n//         <Form.Group className=\"mb-3\">\n//           <Form.Label>Especialidad</Form.Label>\n//           <Form.Select\n//             name=\"especialidad\"\n//             value={form.especialidad}\n//             onChange={handleChange}\n//             required\n//             disabled={saving || disabled}\n//           >\n//             <option value=\"\">-- Selecciona especialidad --</option>\n//             {ESPECIALIDADES.map(sp => (\n//               <option key={sp} value={sp}>{sp}</option>\n//             ))}\n//           </Form.Select>\n//         </Form.Group>\n\n//         <Form.Group className=\"mb-3\">\n//           <Form.Label>Ubicación</Form.Label>\n//           <Form.Select\n//             name=\"ubicacion\"\n//             value={form.ubicacion}\n//             onChange={handleChange}\n//             required\n//             disabled={saving || disabled}\n//           >\n//             <option value=\"\">-- Selecciona ubicación --</option>\n//             {UBICACIONES.map(loc => (\n//               <option key={loc} value={loc}>{loc}</option>\n//             ))}\n//           </Form.Select>\n//         </Form.Group>\n\n//         <Form.Group className=\"mb-3\">\n//           <Form.Label>Seguro médico</Form.Label>\n//           <Form.Select\n//             name=\"seguro_medico\"\n//             value={form.seguro_medico}\n//             onChange={handleChange}\n//             required\n//             disabled={saving || disabled}\n//           >\n//             <option value=\"\">-- Selecciona seguro --</option>\n//             {SEGUROS.map(sg => (\n//               <option key={sg} value={sg}>{sg}</option>\n//             ))}\n//           </Form.Select>\n//         </Form.Group>\n\n//         {!disabled && (\n//           <Button type=\"submit\" disabled={saving}>\n//             {saving ? \"Guardando...\" : \"Guardar Perfil\"}\n//           </Button>\n//         )}\n//       </Form>\n//     </Container>\n//   );\n// }","map":{"version":3,"names":[],"sources":["C:/Users/dae01/Documents/Universidad/QuickCita/frontend/src/pages/ValidarPerfil.js"],"sourcesContent":["// import React, { useState, useEffect, useContext } from \"react\";\r\n// import { Form, Button, Container, Spinner, Alert } from \"react-bootstrap\";\r\n// import { AuthContext } from \"../context/AuthContext\";\r\n// import api from \"../services/api\";\r\n\r\n// const ESPECIALIDADES = [\r\n//   \"Medicina General\",\r\n//   \"Cardiología\",\r\n//   \"Dermatología\",\r\n//   \"Pediatría\",\r\n//   \"Neurología\",\r\n//   \"Oncología\",\r\n//   \"Ginecología\",\r\n//   \"Oftalmología\",\r\n//   \"Psiquiatría\"\r\n// ];\r\n\r\n// const SEGUROS = [\r\n//   \"Sura\",\r\n//   \"Nueva EPS\",\r\n//   \"EPS Sanitas\",\r\n//   \"Salud Total EPS\"\r\n// ];\r\n\r\n// const UBICACIONES = [\r\n//   \"Norte\",\r\n//   \"Sur\",\r\n//   \"Oriente\",\r\n//   \"Occidente\",\r\n//   \"Centro\"\r\n// ];\r\n\r\n// export default function ValidarPerfil() {\r\n//   const { user } = useContext(AuthContext);\r\n//   const [form, setForm] = useState({\r\n//     cedula_profesional: \"\",\r\n//     especialidad: \"\",\r\n//     ubicacion: \"\",\r\n//     seguro_medico: \"\",\r\n//   });\r\n//   const [loading, setLoading] = useState(true);\r\n//   const [saving, setSaving] = useState(false);\r\n//   const [disabled, setDisabled] = useState(false);\r\n//   const [error, setError] = useState(\"\");\r\n\r\n//   useEffect(() => {\r\n//     api.get(`/perfiles_medicos/${user.id_usuario}`)\r\n//       .then(res => {\r\n//         const data = res.data;\r\n//         setForm({\r\n//           cedula_profesional: data.cedula_profesional || \"\",\r\n//           especialidad:       data.especialidad       || \"\",\r\n//           ubicacion:          data.ubicacion          || \"\",\r\n//           seguro_medico:      data.seguro_medico      || \"\",\r\n//         });\r\n//         // Si ya existe un perfil completo, deshabilitar campos\r\n//         if (data.cedula_profesional && data.especialidad) {\r\n//           setDisabled(true);\r\n//         }\r\n//       })\r\n//       .catch(() => setError(\"No se pudo cargar el perfil\"))\r\n//       .finally(() => setLoading(false));\r\n//   }, [user.id_usuario]);\r\n\r\n//   const handleChange = e => {\r\n//     const { name, value } = e.target;\r\n//     setForm(f => ({ ...f, [name]: value }));\r\n//   };\r\n\r\n//   const handleSubmit = e => {\r\n//     e.preventDefault();\r\n//     setSaving(true);\r\n//     api.put(`/perfiles_medicos/${user.id_usuario}`, form)\r\n//       .then(res => {\r\n//         alert(\"Perfil actualizado con éxito\");\r\n//         setError(\"\");\r\n//         setDisabled(true);\r\n//       })\r\n//       .catch(err => {\r\n//         console.error(err);\r\n//         const msg = err.response?.data?.message || \"Error al guardar\";\r\n//         setError(msg);\r\n//       })\r\n//       .finally(() => setSaving(false));\r\n//   };\r\n\r\n//   if (loading) {\r\n//     return (\r\n//       <Container className=\"py-5 text-center\">\r\n//         <Spinner animation=\"border\" />\r\n//       </Container>\r\n//     );\r\n//   }\r\n\r\n//   return (\r\n//     <Container className=\"py-5\" style={{ maxWidth: 600 }}>\r\n//       <h3>Validar/Completar Perfil Médico</h3>\r\n//       {error && <Alert variant=\"danger\">{error}</Alert>}\r\n//       <Form onSubmit={handleSubmit}>\r\n//         <Form.Group className=\"mb-3\">\r\n//           <Form.Label>Cédula profesional</Form.Label>\r\n//           <Form.Control\r\n//             name=\"cedula_profesional\"\r\n//             value={form.cedula_profesional}\r\n//             onChange={handleChange}\r\n//             required\r\n//             disabled={saving || disabled}\r\n//           />\r\n//         </Form.Group>\r\n\r\n//         <Form.Group className=\"mb-3\">\r\n//           <Form.Label>Especialidad</Form.Label>\r\n//           <Form.Select\r\n//             name=\"especialidad\"\r\n//             value={form.especialidad}\r\n//             onChange={handleChange}\r\n//             required\r\n//             disabled={saving || disabled}\r\n//           >\r\n//             <option value=\"\">-- Selecciona especialidad --</option>\r\n//             {ESPECIALIDADES.map(sp => (\r\n//               <option key={sp} value={sp}>{sp}</option>\r\n//             ))}\r\n//           </Form.Select>\r\n//         </Form.Group>\r\n\r\n//         <Form.Group className=\"mb-3\">\r\n//           <Form.Label>Ubicación</Form.Label>\r\n//           <Form.Select\r\n//             name=\"ubicacion\"\r\n//             value={form.ubicacion}\r\n//             onChange={handleChange}\r\n//             required\r\n//             disabled={saving || disabled}\r\n//           >\r\n//             <option value=\"\">-- Selecciona ubicación --</option>\r\n//             {UBICACIONES.map(loc => (\r\n//               <option key={loc} value={loc}>{loc}</option>\r\n//             ))}\r\n//           </Form.Select>\r\n//         </Form.Group>\r\n\r\n//         <Form.Group className=\"mb-3\">\r\n//           <Form.Label>Seguro médico</Form.Label>\r\n//           <Form.Select\r\n//             name=\"seguro_medico\"\r\n//             value={form.seguro_medico}\r\n//             onChange={handleChange}\r\n//             required\r\n//             disabled={saving || disabled}\r\n//           >\r\n//             <option value=\"\">-- Selecciona seguro --</option>\r\n//             {SEGUROS.map(sg => (\r\n//               <option key={sg} value={sg}>{sg}</option>\r\n//             ))}\r\n//           </Form.Select>\r\n//         </Form.Group>\r\n\r\n//         {!disabled && (\r\n//           <Button type=\"submit\" disabled={saving}>\r\n//             {saving ? \"Guardando...\" : \"Guardar Perfil\"}\r\n//           </Button>\r\n//         )}\r\n//       </Form>\r\n//     </Container>\r\n//   );\r\n// }\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}