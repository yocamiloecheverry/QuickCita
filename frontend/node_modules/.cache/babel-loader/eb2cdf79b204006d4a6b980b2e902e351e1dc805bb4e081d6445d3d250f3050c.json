{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dae01\\\\Documents\\\\Universidad\\\\QuickCita\\\\frontend\\\\src\\\\pages\\\\ValidarPerfil.js\",\n  _s = $RefreshSig$();\n// import React, { useState, useEffect, useContext } from \"react\";\n// import { Form, Button, Container, Spinner, Alert } from \"react-bootstrap\";\n// import { AuthContext } from \"../context/AuthContext\";\n// import api from \"../services/api\";\n\n// const ESPECIALIDADES = [\n//   \"Medicina General\",\n//   \"Cardiología\",\n//   \"Dermatología\",\n//   \"Pediatría\",\n//   \"Neurología\",\n//   \"Oncología\",\n//   \"Ginecología\",\n//   \"Oftalmología\",\n//   \"Psiquiatría\"\n// ];\n\n// const SEGUROS = [\n//   \"Sura\",\n//   \"Nueva EPS\",\n//   \"EPS Sanitas\",\n//   \"Salud Total EPS\"\n// ];\n\n// const UBICACIONES = [\n//   \"Norte\",\n//   \"Sur\",\n//   \"Oriente\",\n//   \"Occidente\",\n//   \"Centro\"\n// ];\n\n// export default function ValidarPerfil() {\n//   const { user } = useContext(AuthContext);\n//   const [form, setForm] = useState({\n//     cedula_profesional: \"\",\n//     especialidad: \"\",\n//     ubicacion: \"\",\n//     seguro_medico: \"\",\n//   });\n//   const [loading, setLoading] = useState(true);\n//   const [saving, setSaving] = useState(false);\n//   const [disabled, setDisabled] = useState(false);\n//   const [error, setError] = useState(\"\");\n\n//   useEffect(() => {\n//     api.get(`/perfiles_medicos/${user.id_usuario}`)\n//       .then(res => {\n//         const data = res.data;\n//         setForm({\n//           cedula_profesional: data.cedula_profesional || \"\",\n//           especialidad:       data.especialidad       || \"\",\n//           ubicacion:          data.ubicacion          || \"\",\n//           seguro_medico:      data.seguro_medico      || \"\",\n//         });\n//         // Si ya existe un perfil completo, deshabilitar campos\n//         if (data.cedula_profesional && data.especialidad) {\n//           setDisabled(true);\n//         }\n//       })\n//       .catch(() => setError(\"No se pudo cargar el perfil\"))\n//       .finally(() => setLoading(false));\n//   }, [user.id_usuario]);\n\n//   const handleChange = e => {\n//     const { name, value } = e.target;\n//     setForm(f => ({ ...f, [name]: value }));\n//   };\n\n//   const handleSubmit = e => {\n//     e.preventDefault();\n//     setSaving(true);\n//     api.put(`/perfiles_medicos/${user.id_usuario}`, form)\n//       .then(res => {\n//         alert(\"Perfil actualizado con éxito\");\n//         setError(\"\");\n//         setDisabled(true);\n//       })\n//       .catch(err => {\n//         console.error(err);\n//         const msg = err.response?.data?.message || \"Error al guardar\";\n//         setError(msg);\n//       })\n//       .finally(() => setSaving(false));\n//   };\n\n//   if (loading) {\n//     return (\n//       <Container className=\"py-5 text-center\">\n//         <Spinner animation=\"border\" />\n//       </Container>\n//     );\n//   }\n\n//   return (\n//     <Container className=\"py-5\" style={{ maxWidth: 600 }}>\n//       <h3>Validar/Completar Perfil Médico</h3>\n//       {error && <Alert variant=\"danger\">{error}</Alert>}\n//       <Form onSubmit={handleSubmit}>\n//         <Form.Group className=\"mb-3\">\n//           <Form.Label>Cédula profesional</Form.Label>\n//           <Form.Control\n//             name=\"cedula_profesional\"\n//             value={form.cedula_profesional}\n//             onChange={handleChange}\n//             required\n//             disabled={saving || disabled}\n//           />\n//         </Form.Group>\n\n//         <Form.Group className=\"mb-3\">\n//           <Form.Label>Especialidad</Form.Label>\n//           <Form.Select\n//             name=\"especialidad\"\n//             value={form.especialidad}\n//             onChange={handleChange}\n//             required\n//             disabled={saving || disabled}\n//           >\n//             <option value=\"\">-- Selecciona especialidad --</option>\n//             {ESPECIALIDADES.map(sp => (\n//               <option key={sp} value={sp}>{sp}</option>\n//             ))}\n//           </Form.Select>\n//         </Form.Group>\n\n//         <Form.Group className=\"mb-3\">\n//           <Form.Label>Ubicación</Form.Label>\n//           <Form.Select\n//             name=\"ubicacion\"\n//             value={form.ubicacion}\n//             onChange={handleChange}\n//             required\n//             disabled={saving || disabled}\n//           >\n//             <option value=\"\">-- Selecciona ubicación --</option>\n//             {UBICACIONES.map(loc => (\n//               <option key={loc} value={loc}>{loc}</option>\n//             ))}\n//           </Form.Select>\n//         </Form.Group>\n\n//         <Form.Group className=\"mb-3\">\n//           <Form.Label>Seguro médico</Form.Label>\n//           <Form.Select\n//             name=\"seguro_medico\"\n//             value={form.seguro_medico}\n//             onChange={handleChange}\n//             required\n//             disabled={saving || disabled}\n//           >\n//             <option value=\"\">-- Selecciona seguro --</option>\n//             {SEGUROS.map(sg => (\n//               <option key={sg} value={sg}>{sg}</option>\n//             ))}\n//           </Form.Select>\n//         </Form.Group>\n\n//         {!disabled && (\n//           <Button type=\"submit\" disabled={saving}>\n//             {saving ? \"Guardando...\" : \"Guardar Perfil\"}\n//           </Button>\n//         )}\n//       </Form>\n//     </Container>\n//   );\n// }\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { Form, Button, Container, Spinner, Card, Row, Col } from \"react-bootstrap\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport { FaUserMd, FaCheckCircle, FaEdit } from \"react-icons/fa\";\nimport CustomAlert from \"../components/CustomAlert\";\nimport CustomModal from \"../components/CustomModal\";\nimport api from \"../services/api\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ESPECIALIDADES = [\"Medicina General\", \"Cardiología\", \"Dermatología\", \"Pediatría\", \"Neurología\", \"Oncología\", \"Ginecología\", \"Oftalmología\", \"Psiquiatría\"];\nconst SEGUROS = [\"Sura\", \"Nueva EPS\", \"EPS Sanitas\", \"Salud Total EPS\"];\nconst UBICACIONES = [\"Norte\", \"Sur\", \"Oriente\", \"Occidente\", \"Centro\"];\nexport default function ValidarPerfil() {\n  _s();\n  const {\n    user\n  } = useContext(AuthContext);\n  const [form, setForm] = useState({\n    cedula_profesional: \"\",\n    especialidad: \"\",\n    ubicacion: \"\",\n    seguro_medico: \"\"\n  });\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [disabled, setDisabled] = useState(false);\n\n  // Estados para alertas y modales personalizados\n  const [alert, setAlert] = useState({\n    show: false,\n    message: \"\",\n    variant: \"info\"\n  });\n  const [modal, setModal] = useState({\n    show: false,\n    title: \"\",\n    body: \"\",\n    onConfirm: null\n  });\n\n  // Funciones para manejar alertas y modales\n  const showAlert = (message, variant = \"info\") => {\n    setAlert({\n      show: true,\n      message,\n      variant\n    });\n    setTimeout(() => setAlert({\n      show: false,\n      message: \"\",\n      variant: \"info\"\n    }), 4000);\n  };\n  const showModal = ({\n    title,\n    body,\n    onConfirm\n  }) => {\n    setModal({\n      show: true,\n      title,\n      body,\n      onConfirm\n    });\n  };\n  const handleModalConfirm = () => {\n    if (modal.onConfirm) modal.onConfirm();\n    setModal({\n      show: false,\n      title: \"\",\n      body: \"\",\n      onConfirm: null\n    });\n  };\n  const handleModalCancel = () => {\n    setModal({\n      show: false,\n      title: \"\",\n      body: \"\",\n      onConfirm: null\n    });\n  };\n  useEffect(() => {\n    api.get(`/perfiles_medicos/${user.id_usuario}`).then(res => {\n      const data = res.data;\n      setForm({\n        cedula_profesional: data.cedula_profesional || \"\",\n        especialidad: data.especialidad || \"\",\n        ubicacion: data.ubicacion || \"\",\n        seguro_medico: data.seguro_medico || \"\"\n      });\n      // Si ya existe un perfil completo, deshabilitar campos\n      if (data.cedula_profesional && data.especialidad) {\n        setDisabled(true);\n        showAlert(\"Tu perfil ya está validado y completo\", \"success\");\n      }\n    }).catch(() => {\n      showAlert(\"No se pudo cargar el perfil. Intenta nuevamente.\", \"danger\");\n    }).finally(() => setLoading(false));\n  }, [user.id_usuario]);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setForm(f => ({\n      ...f,\n      [name]: value\n    }));\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    // Mostrar modal de confirmación\n    showModal({\n      title: \"Confirmar actualización\",\n      body: \"¿Estás seguro de que deseas guardar los cambios en tu perfil médico? Una vez guardado, no podrás modificar algunos campos.\",\n      onConfirm: () => saveProfile()\n    });\n  };\n  const saveProfile = () => {\n    setSaving(true);\n    api.put(`/perfiles_medicos/${user.id_usuario}`, form).then(res => {\n      showAlert(\"¡Perfil actualizado con éxito! Tu información ha sido validada.\", \"success\");\n      setDisabled(true);\n    }).catch(err => {\n      var _err$response, _err$response$data;\n      console.error(err);\n      const msg = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Error al guardar el perfil\";\n      showAlert(msg, \"danger\");\n    }).finally(() => setSaving(false));\n  };\n  const handleEdit = () => {\n    showModal({\n      title: \"Editar perfil\",\n      body: \"¿Deseas habilitar la edición de tu perfil? Algunos campos podrían requerir nueva validación.\",\n      onConfirm: () => {\n        setDisabled(false);\n        showAlert(\"Modo de edición habilitado\", \"info\");\n      }\n    });\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: \"py-5 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\",\n        variant: \"primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-3 text-muted\",\n        children: \"Cargando tu perfil m\\xE9dico...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CustomAlert, {\n      show: alert.show,\n      message: alert.message,\n      variant: alert.variant,\n      onClose: () => setAlert({\n        show: false,\n        message: \"\",\n        variant: \"info\"\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CustomModal, {\n      show: modal.show,\n      title: modal.title,\n      body: modal.body,\n      onConfirm: handleModalConfirm,\n      onCancel: handleModalCancel\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      className: \"py-4\",\n      style: {\n        maxWidth: 700\n      },\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: \"shadow-sm border-0\",\n        children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n          className: \"bg-light border-0 py-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex align-items-center justify-content-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(FaUserMd, {\n                className: \"text-success me-2\",\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"mb-0 text-success\",\n                children: \"Validar Perfil M\\xE9dico\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 15\n            }, this), disabled && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(FaCheckCircle, {\n                className: \"text-success me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-success fw-semibold\",\n                children: \"Perfil Validado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline-primary\",\n                size: \"sm\",\n                className: \"ms-3\",\n                onClick: handleEdit,\n                children: [/*#__PURE__*/_jsxDEV(FaEdit, {\n                  className: \"me-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 21\n                }, this), \" Editar\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n          className: \"p-4\",\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                md: 6,\n                children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    className: \"fw-semibold\",\n                    children: \"C\\xE9dula profesional\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 377,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    name: \"cedula_profesional\",\n                    value: form.cedula_profesional,\n                    onChange: handleChange,\n                    required: true,\n                    disabled: saving || disabled,\n                    className: \"modern-input\",\n                    placeholder: \"Ingresa tu c\\xE9dula profesional\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 380,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 376,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 6,\n                children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    className: \"fw-semibold\",\n                    children: \"Especialidad\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 394,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                    name: \"especialidad\",\n                    value: form.especialidad,\n                    onChange: handleChange,\n                    required: true,\n                    disabled: saving || disabled,\n                    className: \"modern-select\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"-- Selecciona especialidad --\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 405,\n                      columnNumber: 23\n                    }, this), ESPECIALIDADES.map(sp => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: sp,\n                      children: sp\n                    }, sp, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 407,\n                      columnNumber: 25\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 397,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                md: 6,\n                children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    className: \"fw-semibold\",\n                    children: \"Ubicaci\\xF3n\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 419,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                    name: \"ubicacion\",\n                    value: form.ubicacion,\n                    onChange: handleChange,\n                    required: true,\n                    disabled: saving || disabled,\n                    className: \"modern-select\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"-- Selecciona ubicaci\\xF3n --\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 428,\n                      columnNumber: 23\n                    }, this), UBICACIONES.map(loc => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: loc,\n                      children: loc\n                    }, loc, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 430,\n                      columnNumber: 25\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 420,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 6,\n                children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    className: \"fw-semibold\",\n                    children: \"Seguro m\\xE9dico\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 440,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                    name: \"seguro_medico\",\n                    value: form.seguro_medico,\n                    onChange: handleChange,\n                    required: true,\n                    disabled: saving || disabled,\n                    className: \"modern-select\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"-- Selecciona seguro --\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 451,\n                      columnNumber: 23\n                    }, this), SEGUROS.map(sg => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: sg,\n                      children: sg\n                    }, sg, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 453,\n                      columnNumber: 25\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 443,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 439,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 15\n            }, this), !disabled && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center mt-4\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                type: \"submit\",\n                disabled: saving,\n                className: \"auth-btn auth-btn-primary px-4\",\n                size: \"lg\",\n                children: saving ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Spinner, {\n                    animation: \"border\",\n                    size: \"sm\",\n                    className: \"me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 472,\n                    columnNumber: 25\n                  }, this), \"Guardando...\"]\n                }, void 0, true) : \"Guardar Perfil\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(ValidarPerfil, \"XrkJla5oYmlJxJKnMQvs71AGZ5E=\");\n_c = ValidarPerfil;\nvar _c;\n$RefreshReg$(_c, \"ValidarPerfil\");","map":{"version":3,"names":["React","useState","useEffect","useContext","Form","Button","Container","Spinner","Card","Row","Col","AuthContext","FaUserMd","FaCheckCircle","FaEdit","CustomAlert","CustomModal","api","jsxDEV","_jsxDEV","Fragment","_Fragment","ESPECIALIDADES","SEGUROS","UBICACIONES","ValidarPerfil","_s","user","form","setForm","cedula_profesional","especialidad","ubicacion","seguro_medico","loading","setLoading","saving","setSaving","disabled","setDisabled","alert","setAlert","show","message","variant","modal","setModal","title","body","onConfirm","showAlert","setTimeout","showModal","handleModalConfirm","handleModalCancel","get","id_usuario","then","res","data","catch","finally","handleChange","e","name","value","target","f","handleSubmit","preventDefault","saveProfile","put","err","_err$response","_err$response$data","console","error","msg","response","handleEdit","className","children","animation","fileName","_jsxFileName","lineNumber","columnNumber","onClose","onCancel","style","maxWidth","Header","size","onClick","Body","onSubmit","md","Group","Label","Control","onChange","required","placeholder","Select","map","sp","loc","sg","type","_c","$RefreshReg$"],"sources":["C:/Users/dae01/Documents/Universidad/QuickCita/frontend/src/pages/ValidarPerfil.js"],"sourcesContent":["// import React, { useState, useEffect, useContext } from \"react\";\r\n// import { Form, Button, Container, Spinner, Alert } from \"react-bootstrap\";\r\n// import { AuthContext } from \"../context/AuthContext\";\r\n// import api from \"../services/api\";\r\n\r\n// const ESPECIALIDADES = [\r\n//   \"Medicina General\",\r\n//   \"Cardiología\",\r\n//   \"Dermatología\",\r\n//   \"Pediatría\",\r\n//   \"Neurología\",\r\n//   \"Oncología\",\r\n//   \"Ginecología\",\r\n//   \"Oftalmología\",\r\n//   \"Psiquiatría\"\r\n// ];\r\n\r\n// const SEGUROS = [\r\n//   \"Sura\",\r\n//   \"Nueva EPS\",\r\n//   \"EPS Sanitas\",\r\n//   \"Salud Total EPS\"\r\n// ];\r\n\r\n// const UBICACIONES = [\r\n//   \"Norte\",\r\n//   \"Sur\",\r\n//   \"Oriente\",\r\n//   \"Occidente\",\r\n//   \"Centro\"\r\n// ];\r\n\r\n// export default function ValidarPerfil() {\r\n//   const { user } = useContext(AuthContext);\r\n//   const [form, setForm] = useState({\r\n//     cedula_profesional: \"\",\r\n//     especialidad: \"\",\r\n//     ubicacion: \"\",\r\n//     seguro_medico: \"\",\r\n//   });\r\n//   const [loading, setLoading] = useState(true);\r\n//   const [saving, setSaving] = useState(false);\r\n//   const [disabled, setDisabled] = useState(false);\r\n//   const [error, setError] = useState(\"\");\r\n\r\n//   useEffect(() => {\r\n//     api.get(`/perfiles_medicos/${user.id_usuario}`)\r\n//       .then(res => {\r\n//         const data = res.data;\r\n//         setForm({\r\n//           cedula_profesional: data.cedula_profesional || \"\",\r\n//           especialidad:       data.especialidad       || \"\",\r\n//           ubicacion:          data.ubicacion          || \"\",\r\n//           seguro_medico:      data.seguro_medico      || \"\",\r\n//         });\r\n//         // Si ya existe un perfil completo, deshabilitar campos\r\n//         if (data.cedula_profesional && data.especialidad) {\r\n//           setDisabled(true);\r\n//         }\r\n//       })\r\n//       .catch(() => setError(\"No se pudo cargar el perfil\"))\r\n//       .finally(() => setLoading(false));\r\n//   }, [user.id_usuario]);\r\n\r\n//   const handleChange = e => {\r\n//     const { name, value } = e.target;\r\n//     setForm(f => ({ ...f, [name]: value }));\r\n//   };\r\n\r\n//   const handleSubmit = e => {\r\n//     e.preventDefault();\r\n//     setSaving(true);\r\n//     api.put(`/perfiles_medicos/${user.id_usuario}`, form)\r\n//       .then(res => {\r\n//         alert(\"Perfil actualizado con éxito\");\r\n//         setError(\"\");\r\n//         setDisabled(true);\r\n//       })\r\n//       .catch(err => {\r\n//         console.error(err);\r\n//         const msg = err.response?.data?.message || \"Error al guardar\";\r\n//         setError(msg);\r\n//       })\r\n//       .finally(() => setSaving(false));\r\n//   };\r\n\r\n//   if (loading) {\r\n//     return (\r\n//       <Container className=\"py-5 text-center\">\r\n//         <Spinner animation=\"border\" />\r\n//       </Container>\r\n//     );\r\n//   }\r\n\r\n//   return (\r\n//     <Container className=\"py-5\" style={{ maxWidth: 600 }}>\r\n//       <h3>Validar/Completar Perfil Médico</h3>\r\n//       {error && <Alert variant=\"danger\">{error}</Alert>}\r\n//       <Form onSubmit={handleSubmit}>\r\n//         <Form.Group className=\"mb-3\">\r\n//           <Form.Label>Cédula profesional</Form.Label>\r\n//           <Form.Control\r\n//             name=\"cedula_profesional\"\r\n//             value={form.cedula_profesional}\r\n//             onChange={handleChange}\r\n//             required\r\n//             disabled={saving || disabled}\r\n//           />\r\n//         </Form.Group>\r\n\r\n//         <Form.Group className=\"mb-3\">\r\n//           <Form.Label>Especialidad</Form.Label>\r\n//           <Form.Select\r\n//             name=\"especialidad\"\r\n//             value={form.especialidad}\r\n//             onChange={handleChange}\r\n//             required\r\n//             disabled={saving || disabled}\r\n//           >\r\n//             <option value=\"\">-- Selecciona especialidad --</option>\r\n//             {ESPECIALIDADES.map(sp => (\r\n//               <option key={sp} value={sp}>{sp}</option>\r\n//             ))}\r\n//           </Form.Select>\r\n//         </Form.Group>\r\n\r\n//         <Form.Group className=\"mb-3\">\r\n//           <Form.Label>Ubicación</Form.Label>\r\n//           <Form.Select\r\n//             name=\"ubicacion\"\r\n//             value={form.ubicacion}\r\n//             onChange={handleChange}\r\n//             required\r\n//             disabled={saving || disabled}\r\n//           >\r\n//             <option value=\"\">-- Selecciona ubicación --</option>\r\n//             {UBICACIONES.map(loc => (\r\n//               <option key={loc} value={loc}>{loc}</option>\r\n//             ))}\r\n//           </Form.Select>\r\n//         </Form.Group>\r\n\r\n//         <Form.Group className=\"mb-3\">\r\n//           <Form.Label>Seguro médico</Form.Label>\r\n//           <Form.Select\r\n//             name=\"seguro_medico\"\r\n//             value={form.seguro_medico}\r\n//             onChange={handleChange}\r\n//             required\r\n//             disabled={saving || disabled}\r\n//           >\r\n//             <option value=\"\">-- Selecciona seguro --</option>\r\n//             {SEGUROS.map(sg => (\r\n//               <option key={sg} value={sg}>{sg}</option>\r\n//             ))}\r\n//           </Form.Select>\r\n//         </Form.Group>\r\n\r\n//         {!disabled && (\r\n//           <Button type=\"submit\" disabled={saving}>\r\n//             {saving ? \"Guardando...\" : \"Guardar Perfil\"}\r\n//           </Button>\r\n//         )}\r\n//       </Form>\r\n//     </Container>\r\n//   );\r\n// }\r\n\r\nimport React, { useState, useEffect, useContext } from \"react\";\r\nimport {\r\n  Form,\r\n  Button,\r\n  Container,\r\n  Spinner,\r\n  Card,\r\n  Row,\r\n  Col,\r\n} from \"react-bootstrap\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { FaUserMd, FaCheckCircle, FaEdit } from \"react-icons/fa\";\r\nimport CustomAlert from \"../components/CustomAlert\";\r\nimport CustomModal from \"../components/CustomModal\";\r\nimport api from \"../services/api\";\r\n\r\nconst ESPECIALIDADES = [\r\n  \"Medicina General\",\r\n  \"Cardiología\",\r\n  \"Dermatología\",\r\n  \"Pediatría\",\r\n  \"Neurología\",\r\n  \"Oncología\",\r\n  \"Ginecología\",\r\n  \"Oftalmología\",\r\n  \"Psiquiatría\",\r\n];\r\n\r\nconst SEGUROS = [\"Sura\", \"Nueva EPS\", \"EPS Sanitas\", \"Salud Total EPS\"];\r\n\r\nconst UBICACIONES = [\"Norte\", \"Sur\", \"Oriente\", \"Occidente\", \"Centro\"];\r\n\r\nexport default function ValidarPerfil() {\r\n  const { user } = useContext(AuthContext);\r\n  const [form, setForm] = useState({\r\n    cedula_profesional: \"\",\r\n    especialidad: \"\",\r\n    ubicacion: \"\",\r\n    seguro_medico: \"\",\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [saving, setSaving] = useState(false);\r\n  const [disabled, setDisabled] = useState(false);\r\n\r\n  // Estados para alertas y modales personalizados\r\n  const [alert, setAlert] = useState({\r\n    show: false,\r\n    message: \"\",\r\n    variant: \"info\",\r\n  });\r\n  const [modal, setModal] = useState({\r\n    show: false,\r\n    title: \"\",\r\n    body: \"\",\r\n    onConfirm: null,\r\n  });\r\n\r\n  // Funciones para manejar alertas y modales\r\n  const showAlert = (message, variant = \"info\") => {\r\n    setAlert({ show: true, message, variant });\r\n    setTimeout(\r\n      () => setAlert({ show: false, message: \"\", variant: \"info\" }),\r\n      4000\r\n    );\r\n  };\r\n\r\n  const showModal = ({ title, body, onConfirm }) => {\r\n    setModal({ show: true, title, body, onConfirm });\r\n  };\r\n\r\n  const handleModalConfirm = () => {\r\n    if (modal.onConfirm) modal.onConfirm();\r\n    setModal({ show: false, title: \"\", body: \"\", onConfirm: null });\r\n  };\r\n\r\n  const handleModalCancel = () => {\r\n    setModal({ show: false, title: \"\", body: \"\", onConfirm: null });\r\n  };\r\n\r\n  useEffect(() => {\r\n    api\r\n      .get(`/perfiles_medicos/${user.id_usuario}`)\r\n      .then((res) => {\r\n        const data = res.data;\r\n        setForm({\r\n          cedula_profesional: data.cedula_profesional || \"\",\r\n          especialidad: data.especialidad || \"\",\r\n          ubicacion: data.ubicacion || \"\",\r\n          seguro_medico: data.seguro_medico || \"\",\r\n        });\r\n        // Si ya existe un perfil completo, deshabilitar campos\r\n        if (data.cedula_profesional && data.especialidad) {\r\n          setDisabled(true);\r\n          showAlert(\"Tu perfil ya está validado y completo\", \"success\");\r\n        }\r\n      })\r\n      .catch(() => {\r\n        showAlert(\"No se pudo cargar el perfil. Intenta nuevamente.\", \"danger\");\r\n      })\r\n      .finally(() => setLoading(false));\r\n  }, [user.id_usuario]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setForm((f) => ({ ...f, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    // Mostrar modal de confirmación\r\n    showModal({\r\n      title: \"Confirmar actualización\",\r\n      body: \"¿Estás seguro de que deseas guardar los cambios en tu perfil médico? Una vez guardado, no podrás modificar algunos campos.\",\r\n      onConfirm: () => saveProfile(),\r\n    });\r\n  };\r\n\r\n  const saveProfile = () => {\r\n    setSaving(true);\r\n    api\r\n      .put(`/perfiles_medicos/${user.id_usuario}`, form)\r\n      .then((res) => {\r\n        showAlert(\r\n          \"¡Perfil actualizado con éxito! Tu información ha sido validada.\",\r\n          \"success\"\r\n        );\r\n        setDisabled(true);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        const msg = err.response?.data?.message || \"Error al guardar el perfil\";\r\n        showAlert(msg, \"danger\");\r\n      })\r\n      .finally(() => setSaving(false));\r\n  };\r\n\r\n  const handleEdit = () => {\r\n    showModal({\r\n      title: \"Editar perfil\",\r\n      body: \"¿Deseas habilitar la edición de tu perfil? Algunos campos podrían requerir nueva validación.\",\r\n      onConfirm: () => {\r\n        setDisabled(false);\r\n        showAlert(\"Modo de edición habilitado\", \"info\");\r\n      },\r\n    });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container className=\"py-5 text-center\">\r\n        <Spinner animation=\"border\" variant=\"primary\" />\r\n        <p className=\"mt-3 text-muted\">Cargando tu perfil médico...</p>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {/* Alertas personalizadas */}\r\n      <CustomAlert\r\n        show={alert.show}\r\n        message={alert.message}\r\n        variant={alert.variant}\r\n        onClose={() => setAlert({ show: false, message: \"\", variant: \"info\" })}\r\n      />\r\n\r\n      {/* Modal personalizado */}\r\n      <CustomModal\r\n        show={modal.show}\r\n        title={modal.title}\r\n        body={modal.body}\r\n        onConfirm={handleModalConfirm}\r\n        onCancel={handleModalCancel}\r\n      />\r\n\r\n      <Container className=\"py-4\" style={{ maxWidth: 700 }}>\r\n        <Card className=\"shadow-sm border-0\">\r\n          <Card.Header className=\"bg-light border-0 py-3\">\r\n            <div className=\"d-flex align-items-center justify-content-between\">\r\n              <div className=\"d-flex align-items-center\">\r\n                <FaUserMd className=\"text-success me-2\" size={24} />\r\n                <h4 className=\"mb-0 text-success\">Validar Perfil Médico</h4>\r\n              </div>\r\n              {disabled && (\r\n                <div className=\"d-flex align-items-center\">\r\n                  <FaCheckCircle className=\"text-success me-2\" />\r\n                  <span className=\"text-success fw-semibold\">\r\n                    Perfil Validado\r\n                  </span>\r\n                  <Button\r\n                    variant=\"outline-primary\"\r\n                    size=\"sm\"\r\n                    className=\"ms-3\"\r\n                    onClick={handleEdit}\r\n                  >\r\n                    <FaEdit className=\"me-1\" /> Editar\r\n                  </Button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </Card.Header>\r\n\r\n          <Card.Body className=\"p-4\">\r\n            <Form onSubmit={handleSubmit}>\r\n              <Row>\r\n                <Col md={6}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label className=\"fw-semibold\">\r\n                      Cédula profesional\r\n                    </Form.Label>\r\n                    <Form.Control\r\n                      name=\"cedula_profesional\"\r\n                      value={form.cedula_profesional}\r\n                      onChange={handleChange}\r\n                      required\r\n                      disabled={saving || disabled}\r\n                      className=\"modern-input\"\r\n                      placeholder=\"Ingresa tu cédula profesional\"\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n\r\n                <Col md={6}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label className=\"fw-semibold\">\r\n                      Especialidad\r\n                    </Form.Label>\r\n                    <Form.Select\r\n                      name=\"especialidad\"\r\n                      value={form.especialidad}\r\n                      onChange={handleChange}\r\n                      required\r\n                      disabled={saving || disabled}\r\n                      className=\"modern-select\"\r\n                    >\r\n                      <option value=\"\">-- Selecciona especialidad --</option>\r\n                      {ESPECIALIDADES.map((sp) => (\r\n                        <option key={sp} value={sp}>\r\n                          {sp}\r\n                        </option>\r\n                      ))}\r\n                    </Form.Select>\r\n                  </Form.Group>\r\n                </Col>\r\n              </Row>\r\n\r\n              <Row>\r\n                <Col md={6}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label className=\"fw-semibold\">Ubicación</Form.Label>\r\n                    <Form.Select\r\n                      name=\"ubicacion\"\r\n                      value={form.ubicacion}\r\n                      onChange={handleChange}\r\n                      required\r\n                      disabled={saving || disabled}\r\n                      className=\"modern-select\"\r\n                    >\r\n                      <option value=\"\">-- Selecciona ubicación --</option>\r\n                      {UBICACIONES.map((loc) => (\r\n                        <option key={loc} value={loc}>\r\n                          {loc}\r\n                        </option>\r\n                      ))}\r\n                    </Form.Select>\r\n                  </Form.Group>\r\n                </Col>\r\n\r\n                <Col md={6}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label className=\"fw-semibold\">\r\n                      Seguro médico\r\n                    </Form.Label>\r\n                    <Form.Select\r\n                      name=\"seguro_medico\"\r\n                      value={form.seguro_medico}\r\n                      onChange={handleChange}\r\n                      required\r\n                      disabled={saving || disabled}\r\n                      className=\"modern-select\"\r\n                    >\r\n                      <option value=\"\">-- Selecciona seguro --</option>\r\n                      {SEGUROS.map((sg) => (\r\n                        <option key={sg} value={sg}>\r\n                          {sg}\r\n                        </option>\r\n                      ))}\r\n                    </Form.Select>\r\n                  </Form.Group>\r\n                </Col>\r\n              </Row>\r\n\r\n              {!disabled && (\r\n                <div className=\"text-center mt-4\">\r\n                  <Button\r\n                    type=\"submit\"\r\n                    disabled={saving}\r\n                    className=\"auth-btn auth-btn-primary px-4\"\r\n                    size=\"lg\"\r\n                  >\r\n                    {saving ? (\r\n                      <>\r\n                        <Spinner\r\n                          animation=\"border\"\r\n                          size=\"sm\"\r\n                          className=\"me-2\"\r\n                        />\r\n                        Guardando...\r\n                      </>\r\n                    ) : (\r\n                      \"Guardar Perfil\"\r\n                    )}\r\n                  </Button>\r\n                </div>\r\n              )}\r\n            </Form>\r\n          </Card.Body>\r\n        </Card>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":";;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAC9D,SACEC,IAAI,EACJC,MAAM,EACNC,SAAS,EACTC,OAAO,EACPC,IAAI,EACJC,GAAG,EACHC,GAAG,QACE,iBAAiB;AACxB,SAASC,WAAW,QAAQ,wBAAwB;AACpD,SAASC,QAAQ,EAAEC,aAAa,EAAEC,MAAM,QAAQ,gBAAgB;AAChE,OAAOC,WAAW,MAAM,2BAA2B;AACnD,OAAOC,WAAW,MAAM,2BAA2B;AACnD,OAAOC,GAAG,MAAM,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAElC,MAAMC,cAAc,GAAG,CACrB,kBAAkB,EAClB,aAA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}