{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kmili\\\\Documents\\\\2025-1\\\\4. Desarrollo_Sistemas\\\\QuickCita\\\\medical-appointment-system\\\\frontend\\\\src\\\\context\\\\AuthContext.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useReducer } from \"react\";\nimport { loginUser, logoutUser } from \"../services/authService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  isAuthenticated: !!localStorage.getItem(\"token\"),\n  user: null\n};\nconst authReducer = (state, action) => {\n  switch (action.type) {\n    case \"LOGIN_SUCCESS\":\n      return {\n        ...state,\n        isAuthenticated: true,\n        user: action.payload\n      };\n    case \"LOGOUT\":\n      return {\n        ...state,\n        isAuthenticated: false,\n        user: null\n      };\n    default:\n      return state;\n  }\n};\nexport const AuthContext = /*#__PURE__*/createContext(initialState);\nexport const AuthProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(authReducer, initialState);\n  const handleLogin = async credentials => {\n    try {\n      const user = await loginUser(credentials);\n      dispatch({\n        type: \"LOGIN_SUCCESS\",\n        payload: user\n      });\n    } catch (err) {\n      console.error(\"Error al iniciar sesión:\", err);\n    }\n  };\n  const handleLogout = () => {\n    logoutUser();\n    dispatch({\n      type: \"LOGOUT\"\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      ...state,\n      handleLogin,\n      handleLogout\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n_s(AuthProvider, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["React","createContext","useReducer","loginUser","logoutUser","jsxDEV","_jsxDEV","initialState","isAuthenticated","localStorage","getItem","user","authReducer","state","action","type","payload","AuthContext","AuthProvider","children","_s","dispatch","handleLogin","credentials","err","console","error","handleLogout","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/kmili/Documents/2025-1/4. Desarrollo_Sistemas/QuickCita/medical-appointment-system/frontend/src/context/AuthContext.js"],"sourcesContent":["import React, { createContext, useReducer } from \"react\";\r\nimport { loginUser, logoutUser } from \"../services/authService\";\r\n\r\nconst initialState = {\r\n  isAuthenticated: !!localStorage.getItem(\"token\"),\r\n  user: null,\r\n};\r\n\r\nconst authReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"LOGIN_SUCCESS\":\r\n      return { ...state, isAuthenticated: true, user: action.payload };\r\n    case \"LOGOUT\":\r\n      return { ...state, isAuthenticated: false, user: null };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const AuthContext = createContext(initialState);\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(authReducer, initialState);\r\n\r\n  const handleLogin = async (credentials) => {\r\n    try {\r\n      const user = await loginUser(credentials);\r\n      dispatch({ type: \"LOGIN_SUCCESS\", payload: user });\r\n    } catch (err) {\r\n      console.error(\"Error al iniciar sesión:\", err);\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    logoutUser();\r\n    dispatch({ type: \"LOGOUT\" });\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ ...state, handleLogin, handleLogout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,QAAQ,OAAO;AACxD,SAASC,SAAS,EAAEC,UAAU,QAAQ,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhE,MAAMC,YAAY,GAAG;EACnBC,eAAe,EAAE,CAAC,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAChDC,IAAI,EAAE;AACR,CAAC;AAED,MAAMC,WAAW,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;EACrC,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,eAAe;MAClB,OAAO;QAAE,GAAGF,KAAK;QAAEL,eAAe,EAAE,IAAI;QAAEG,IAAI,EAAEG,MAAM,CAACE;MAAQ,CAAC;IAClE,KAAK,QAAQ;MACX,OAAO;QAAE,GAAGH,KAAK;QAAEL,eAAe,EAAE,KAAK;QAAEG,IAAI,EAAE;MAAK,CAAC;IACzD;MACE,OAAOE,KAAK;EAChB;AACF,CAAC;AAED,OAAO,MAAMI,WAAW,gBAAGhB,aAAa,CAACM,YAAY,CAAC;AAEtD,OAAO,MAAMW,YAAY,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC5C,MAAM,CAACP,KAAK,EAAEQ,QAAQ,CAAC,GAAGnB,UAAU,CAACU,WAAW,EAAEL,YAAY,CAAC;EAE/D,MAAMe,WAAW,GAAG,MAAOC,WAAW,IAAK;IACzC,IAAI;MACF,MAAMZ,IAAI,GAAG,MAAMR,SAAS,CAACoB,WAAW,CAAC;MACzCF,QAAQ,CAAC;QAAEN,IAAI,EAAE,eAAe;QAAEC,OAAO,EAAEL;MAAK,CAAC,CAAC;IACpD,CAAC,CAAC,OAAOa,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,0BAA0B,EAAEF,GAAG,CAAC;IAChD;EACF,CAAC;EAED,MAAMG,YAAY,GAAGA,CAAA,KAAM;IACzBvB,UAAU,CAAC,CAAC;IACZiB,QAAQ,CAAC;MAAEN,IAAI,EAAE;IAAS,CAAC,CAAC;EAC9B,CAAC;EAED,oBACET,OAAA,CAACW,WAAW,CAACW,QAAQ;IAACC,KAAK,EAAE;MAAE,GAAGhB,KAAK;MAAES,WAAW;MAAEK;IAAa,CAAE;IAAAR,QAAA,EAClEA;EAAQ;IAAAW,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAE3B,CAAC;AAACb,EAAA,CAtBWF,YAAY;AAAAgB,EAAA,GAAZhB,YAAY;AAAA,IAAAgB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}